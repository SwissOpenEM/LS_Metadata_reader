# Conversions
## fromlinkml/structs.go - the OSCEM auto generated struct.
As described on the main part the output from the metadata reader is in OSCEM format. In order to facilitate that we generate a structs.go file from the OSCEM schema of choice using the LinkML function gen-golang. Afterwards run the adjust_from_linkml/adjust.go function once locally to make the autogenerated structs.go comply to the metadata readers requirements.

## conversions.csv
This table is the heart of the actual conversion from instrument metadata output to OSCEM conform schema. Currently, it maps OSCEM fields to the outputs of EPU (xml), SerialEM (mdoc) and Tomo5 (both mdocs and xmls). Additionally it assigns units to fields and has a list of conversions to reach the targeted unit from the original output (**Units need updates if the instrument softwares change the way they output metadata - none of them explicity specifiy the units of their fields**). This also means that in order to use the table on a new or extended schema you also need to update the mapping table to match the new schema (additions only - unused mappings are irrelevant but might be useful for a different schema). Lastly it maps (parts) of the OSCEM schema onto the PDB/EMDB mmcif dictionary. This is required for the oscem-to-mmcif-converter (https://github.com/osc-em/converter-OSCEM-to-mmCIF). The nesting of the OSCEM schema is described as . seperated in the first column of the table. When modifiyng the table it is crucial to save it in UTF-8 compatible format - otherwise some of the unitnames will fail.